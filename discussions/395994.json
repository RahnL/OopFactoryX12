[
  {
    "Id": "914327",
    "ThreadId": "395994",
    "Html": "\r\n<p>I'm using version 2.3.0.0 and have the following procedure to copy loops and segments from one container to another:</p>\r\n<pre class=\"csharpcode\">        private void CopySegmentAndLoops(LoopContainer inputContainer, LoopContainer outputContainer, bool copyChildLoops)\r\n        {\r\n            int inputSegmentCount = inputContainer.Segments.Count();\r\n            for (int i = 0; i <span class=\"kwrd\">&lt;</span> inputSegmentCount; i&#43;&#43;)\r\n                outputContainer.AddSegment(inputContainer.Segments.ElementAt(i).SegmentString);\r\n\r\n            int inputLoopCount = inputContainer.Loops.Count();\r\n            for (int i = 0; i <span class=\"kwrd\">&lt;</span> inputLoopCount; i&#43;&#43;)\r\n            {\r\n                try\r\n                {\r\n                    outputContainer.AddLoop(inputContainer.Loops.ElementAt(i).SegmentString);\r\n                    if (copyChildLoops == true)\r\n                        CopySegmentAndLoops(inputContainer.Loops.ElementAt(i), outputContainer.Loops.ElementAt(i), true);\r\n                }\r\n                catch (Exception err)\r\n                {\r\n                    Debug.WriteLine(err.Message);\r\n                }\r\n            }\r\n        }</pre>\r\n<p>There seem to be an issue where at times the AddSegment and AddLoop methods don't actually add anything and don't throw an error. &nbsp;The output container seems to be initialized and the input container has 3 segments and 2 loops. &nbsp;However, under\r\n some undetermined situation the output container object doesn't seem to have anything in it after calling the respective add method. &nbsp;I've run this over several loops and it seems to work most of the time. &nbsp;The reason I found this is that I get and\r\n exception when I call outputContainer.Loop.ElementAt(i). &nbsp;It throws and index out of range (count of output container is 0).</p>\r\n<p>I got this code from&nbsp;<a href=\"http://x12parser.codeplex.com/discussions/355921\">http://x12parser.codeplex.com/discussions/355921</a>&nbsp;by alder 8.</p>\r\n",
    "PostedDate": "2012-09-18T14:33:48.417-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]